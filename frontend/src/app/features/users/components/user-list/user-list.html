<!-- user-list.component.html -->
<div class="user-list-container">
  <mat-card>
    <mat-card-content>
      <div class="header">
        <h2>User List</h2>

        <div class="actions-bar">
          <button mat-raised-button color="primary" (click)="loadUsers()">
            List Users
          </button>
        </div>
      </div>

      <div class="table-container">
        <mat-table [dataSource]="dataSource()">
            <!-- First Name Column -->
            <ng-container matColumnDef="firstName">
                <th mat-header-cell *matHeaderCellDef> First Name </th>
                <td mat-cell *matCellDef="let user"> {{ user.firstName }} </td>
            </ng-container>

            <!-- Last Name Column -->
            <ng-container matColumnDef="lastName">
                <th mat-header-cell *matHeaderCellDef> Last Name </th>
                <td mat-cell *matCellDef="let user"> {{ user.lastName }} </td>
            </ng-container>

            <!-- Email Column -->
            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Email </th>
                <td mat-cell *matCellDef="let user"> {{ user.email }} </td>
            </ng-container>

            <!-- Phone Number Column -->
            <ng-container matColumnDef="phoneNumber">
                <th mat-header-cell *matHeaderCellDef> Phone </th>
                <td mat-cell *matCellDef="let user"> {{ user.phoneNumber || '-' }} </td>
            </ng-container>

            <!-- Zip Code Column -->
            <ng-container matColumnDef="zipCode">
                <th mat-header-cell *matHeaderCellDef> Zip Code </th>
                <td mat-cell *matCellDef="let user"> {{ user.zipCode || '-' }} </td>
            </ng-container>

            <!-- Operations Column -->
            <ng-container matColumnDef="operations">
              <th mat-header-cell *matHeaderCellDef class="operations-header">Operations</th>
              <td *matCellDef="let user" class="operations-cell">
                  <button class="icon-only" color="primary" matTooltip="View User" (click)="viewUser(user)">
                      <mat-icon class="table-action-icon">visibility</mat-icon>
                  </button>
                  <button class="icon-only" color="accent" matTooltip="Edit User" (click)="editUser(user)">
                      <mat-icon class="table-action-icon">edit</mat-icon>
                  </button>
                  <button class="icon-only" color="warn" matTooltip="Delete User" (click)="deleteUser(user)">
                      <mat-icon class="table-action-icon">delete</mat-icon>
                  </button>
              </td>
            </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>

        <mat-paginator 
          [length]="totalRecords()"
          [pageSize]="pageSize()"
          [pageIndex]="pageIndex()"
          [pageSizeOptions]="[5, 10, 25]"
          (page)="onPageChange($event)">
        </mat-paginator>

      </div>
    </mat-card-content>
  </mat-card>
</div>